# ShachikuVCS
------

![shckvcs](https://user-images.githubusercontent.com/4313248/159166505-7e2078ec-8214-4eed-a73f-a51f9e59fa50.jpg)

------
# 概要

社畜VCS（Version Control System）はファイルの変更履歴の保存・管理を行う簡易版バージョン管理ツールです。
Git、SVNといった有名なバージョン管理ツールに比べるとはるかに機能が限定されますが、
定番FTPクライアントソフトWinSCPのエクステンションとして動作するので
環境に依存しない、ワンタッチでお手軽に環境構築ができるメリットがあります。
開発ツールが十分に準備されていない、または上司に圧力を掛けられてソース管理まで人件費を掛けられない
超短期スケジュールでとにかく時間が無くて止む無くこんな糞ツールに頼らざるを得ない
などといったあらゆる過酷な開発現場での活躍が期待できます。


# 動作環境

社畜VCSを動作するにはWindowsがインストールされたパソコンで
以下のソフトがインストールされているか確認してください。

1. PowerShell5.1以上

2. WinSCP5.19以上

3. WinMerge2.16以上

------

## ワンタッチインストール

1. WinSCPを起動し、リモートサーバーに接続します。

2. リモートディレクトリのペインを右クリックで「静的カスタムコマンド」⇒「カスタマイズ」をクリックします。
![shckvcs_setup1](https://user-images.githubusercontent.com/4313248/161044960-9ec4b16a-6823-42fc-b924-71b65b6eccb7.jpg)

3. 追加(A)右側のプルダウンをクリックして「拡張機能の追加(E)」をクリックします。

4. 拡張機能の追加画面のURLにコピーしたGitHubの[Rawリンク](https://github.com/marunowork/ShachikuVCS/raw/main/ShckVCS.WinSCPextension.ps1) を貼り付けします

5. 「OK」をクリックします。（※警告メッセージが出ますが気にせずOKをクリックして進めます。）
![shckvcs_setup2](https://user-images.githubusercontent.com/4313248/161046076-4ef73f38-84a7-4739-b95e-934e3f928b0b.jpg)

6. 環境設定ウィンドウに戻って、カスタムコマンド一覧に「VCS MENU」が表示されることを確認してください。

7. これでインストールは完了です
（※初回起動時に「初期設定が完了しました」とメッセージ表示されますが、ホームディレクトリに専用フォルダと設定ファイルが作成されます）

------

## 使い方

### 社畜VCSメニュー画面の表示

1. WinSCPを起動し、リモートサーバーに接続します。

2. リモートディレクトリのペインから管理対象のソースを選択し、右クリックで「ファイルカスタムコマンド」⇒「VCS MENU」をクリックします。

3. 社畜VCSメニュー画面が表示されます。
（※初回起動時に「初期設定が完了しました」とメッセージ表示された場合は再起動してください。）

### 社畜VCS機能の紹介

#### 画面イメージ
![shckvcs_setup3](https://user-images.githubusercontent.com/4313248/161047796-4e27e507-9eb5-45b8-b11e-c7b3f31a7592.jpg)

#### 操作ボタンの説明
1. 選択したソースをコミットする場合はコメントを入力して「コミット」をクリックします。履歴一覧に入力コメントが追加されます。
2. リモートファイルとリポジトリを比較する場合は履歴一覧から選択して「リモートファイルと比較」をクリックします。
3. 直近リポジトリとの差分を確認したい場合は履歴一覧から選択して「前回リビジョンとの差分を表示」をクリックします。
4. リポジトリをリモートに戻す場合は履歴一覧から選択して「リバート」をクリックします。
5. （注意！）リモートファイルが書き換わって戻せなくなるのでかならず鬼上司に承認をとってから操作を行ってください。
6. リポジトリをバックアップしたい場合は履歴一覧から選択して「エクスポート」をクリックして保存先を選択してください。
7. コメントを修正したい場合は履歴一覧から選択して「コメント編集」をクリックして編集後「更新」をクリックします。
8. 履歴一覧を抽出したい場合は上部テキストボックスを入力して「検索」をクリックします。
9. 上記検索条件をクリアする場合は「クリア」をクリックします。
10. 画面を閉じる場合は「閉じる」をクリックします。
